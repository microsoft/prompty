id: qna-basic-agent
name: QnA Basic Agent
description: |-
  This agent enables users to receive answers to their questions
  by leveraging the QnA API.
  The agent summarizes relevant information clearly and offers to create
  a custom itinerary based on the user's travel duration.
metadata:
  tags:
    - example
    - travel
  authors:
    - sethjuarez
    - jietong

model: gpt-4o

inputs:
  clu_project_name:
    kind: string
    description: The CLU project name.
    required: true
  clu_deployment_name:
    kind: string
    description: The CLU deployment name.
    required: true

tools:
  clu_api_tool:
    kind: openapi
    description: An API to extract intent from a given message.
    connection: clu_connection
    specification: ./clu.openapi.json

  cqa_api_tool:
    kind: openapi
    description: An API to get answer to questions related to business operation
    connection: cqa_connection
    specification: ./questionanswering.openapi.json

instructions: |-
  You are a triage agent. Your goal is to answer questions and redirect message according to their intent. You have at your disposition 2 tools:
  1. cqa_api: to answer customer questions such as procedures and FAQs.
  2. clu_api: to extract the intent of the message.
  You must use the tools to perform your task. Only if the tools are not able to provide the information, you can answer according to your general knowledge.
  - When you return answers from the cqa_api return the exact answer without rewriting it.
  - When you return answers from the clu_api return 'Detected Intent: {intent response}' and fill {intent response} with the intent returned from the api.
  To call the clu_api, the following parameters values should be used in the payload:
  - 'projectName': value must be '{{clu_project_name}}'
  - 'deploymentName': value must be '{{clu_deployment_name}}'
  - 'text': must be the input from the user.
